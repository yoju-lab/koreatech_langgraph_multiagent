
# ğŸ“˜ LangGraph ì—ì´ì „íŠ¸ í•¨ìˆ˜ ì„¤ëª…ì„œ

ì´ ë¬¸ì„œëŠ” "ì•„, ë­ ë¨¹ì§€? ë­ í•˜ì§€?" í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” 10ê°œì˜ ì—ì´ì „íŠ¸ í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì„ ì œê³µí•©ë‹ˆë‹¤.
ê° í•¨ìˆ˜ëŠ” LangGraphì˜ ìƒíƒœ íë¦„ ì•ˆì—ì„œ íŠ¹ì • ì—­í• ì„ ìˆ˜í–‰í•˜ë©°, ì…ë ¥ê³¼ ì¶œë ¥ êµ¬ì¡°ë„ í•¨ê»˜ ì„¤ëª…ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## 1. `classify_intent(state)`

### ğŸ“Œ ì—­í• 
ì‚¬ìš©ìì˜ ìì—°ì–´ ì…ë ¥(`user_input`)ì„ ë°”íƒ•ìœ¼ë¡œ GPTë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ë„ë¥¼ ë¶„ë¥˜í•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `state["user_input"]`: ì˜ˆ) `"ë°°ê³ íŒŒ"`, `"ì‹¬ì‹¬í•´"`, `"ìš´ë™ ì¶”ì²œí•´ì¤˜"`

### ğŸ“¤ ì¶œë ¥
- `state["intent"]`: `"food"`, `"activity"`, `"unknown"` ì¤‘ í•˜ë‚˜

---

## 2. `get_time_slot(state)`

### ğŸ“Œ ì—­í• 
í˜„ì¬ ì‹œê°(`datetime.now()`)ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°„ëŒ€ë¥¼ ìë™ ë¶„ë¥˜í•©ë‹ˆë‹¤.

### ë¶„ë¥˜ ê¸°ì¤€
- 05~11ì‹œ: `"ì•„ì¹¨"`
- 11~16ì‹œ: `"ì ì‹¬"`
- 16~22ì‹œ: `"ì €ë…"`
- 22~05ì‹œ: `"ì•¼ê°„"`

### ğŸ“¤ ì¶œë ¥
- `state["time_slot"]`

---

## 3. `get_season(state)`

### ğŸ“Œ ì—­í• 
í˜„ì¬ ì›”ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì ˆì„ ë¶„ë¥˜í•©ë‹ˆë‹¤.

### ë¶„ë¥˜ ê¸°ì¤€
- 3~5ì›”: `"ë´„"` / 6~8ì›”: `"ì—¬ë¦„"` / 9~11ì›”: `"ê°€ì„"` / 12~2ì›”: `"ê²¨ìš¸"`

### ğŸ“¤ ì¶œë ¥
- `state["season"]`

---

## 4. `get_weather(state)`

### ğŸ“Œ ì—­í• 
OpenWeather APIë¥¼ í˜¸ì¶œí•˜ì—¬ í˜„ì¬ ë‚ ì”¨ ìƒíƒœë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `state["location"]` (í˜„ì¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `"Seoul"`ë¡œ ê³ ì •)

### ğŸ“¤ ì¶œë ¥
- `state["weather"]`: ì˜ˆ) `"Rain"`, `"Clear"`, `"Snow"`

---

## 5. `recommend_food(state)`

### ğŸ“Œ ì—­í• 
GPTë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°ê±´(ê³„ì ˆ, ì‹œê°„ëŒ€, ë‚ ì”¨, ì‚¬ìš©ì ì…ë ¥)ì— ë”°ë¼ ìŒì‹ 2ê°€ì§€ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `user_input`, `season`, `weather`, `time_slot`

### ğŸ“¤ ì¶œë ¥
- `state["recommended_items"]`: ì˜ˆ) `["ê¹€ì¹˜ì°Œê°œ", "ëœì¥ì°Œê°œ"]`

---

## 6. `recommend_activity(state)`

### ğŸ“Œ ì—­í• 
GPTë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ í™œë™ ì˜ë„ì— ë§ëŠ” ì¶”ì²œ í™œë™ 2ê°€ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `user_input`, `season`, `weather`, `time_slot`

### ğŸ“¤ ì¶œë ¥
- `state["recommended_items"]`: ì˜ˆ) `["ì±… ì½ê¸°", "ì˜í™” ë³´ê¸°"]`

---

## 7. `generate_search_keyword(state)`

### ğŸ“Œ ì—­í• 
ì¶”ì²œëœ ìŒì‹ ë˜ëŠ” í™œë™ì„ ê¸°ë°˜ìœ¼ë¡œ ì¥ì†Œ ê²€ìƒ‰ìš© í‚¤ì›Œë“œë¥¼ GPTë¡œ ìƒì„±í•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `state["recommended_items"]`
- `state["intent"]`

### ğŸ“¤ ì¶œë ¥
- `state["search_keyword"]`: ì˜ˆ) `"í•œì‹"`, `"ë¶ì¹´í˜"`

---

## 8. `search_place(state)`

### ğŸ“Œ ì—­í• 
`location + search_keyword` ì¡°í•©ìœ¼ë¡œ Kakao ì¥ì†Œ ê²€ìƒ‰ APIë¥¼ í˜¸ì¶œí•´ ê·¼ì²˜ ì¥ì†Œë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `state["location"]`, `state["search_keyword"]`

### ğŸ“¤ ì¶œë ¥
- `state["recommended_place"]`: ì´ë¦„, ì£¼ì†Œ, URLì„ í¬í•¨í•œ ì¥ì†Œ ì •ë³´

---

## 9. `summarize_message(state)`

### ğŸ“Œ ì—­í• 
ëª¨ë“  ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ì‚¬ìš©ìê°€ ë³´ê¸° ì¢‹ì€ ê°ì„±ì  ìš”ì•½ ë©”ì‹œì§€ë¥¼ GPTë¡œ ìƒì„±í•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- ì¶”ì²œ í•­ëª©, ì¥ì†Œ, intent, ì‹œê°„/ë‚ ì”¨ ë“± ì „ì²´ ìƒíƒœ

### ğŸ“¤ ì¶œë ¥
- `state["final_message"]`: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ìµœì¢… ë¬¸ì¥

---

## 10. `intent_unsupported_handler(state)`

### ğŸ“Œ ì—­í• 
intentê°€ `unknown`ì¼ ê²½ìš° ì‹¤í–‰ë˜ì–´ ì‚¬ìš©ìì—ê²Œ ì •ì¤‘í•œ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### ğŸ“¥ ì…ë ¥
- `state["intent"] == "unknown"`

### ğŸ“¤ ì¶œë ¥
- `state["final_message"]`: `"ì£„ì†¡í•´ìš”! ìŒì‹ì´ë‚˜ í™œë™ë§Œ ì¶”ì²œí•  ìˆ˜ ìˆì–´ìš” ğŸ˜Š"`

---

ì´ ë¬¸ì„œëŠ” ìˆ˜ì—… ì¤‘ ê° í•¨ìˆ˜ì˜ ì—­í• ê³¼ íë¦„ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

